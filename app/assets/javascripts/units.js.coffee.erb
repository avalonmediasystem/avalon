window.UserSelectBox =
  class UserSelectBox
    constructor: (@unitSelections) ->
      $('#managers').select2
        placeholder: 'Search by name or net id'
        minimumInputLength: 7
        multiple: true
        width: '500px'

        initSelection: (element, callback) =>
          callback @unitSelections
        ajax:
          url: '<%= Rails.application.routes.url_helpers.admin_ldap_search_url(only_path: true) %>'
          dataType: 'json'
          data: (term, page) ->
            q: term
          results: (data, page) ->
            results:
              data.users