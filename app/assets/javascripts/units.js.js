// Generated by CoffeeScript 1.6.2
var UserSelectBox;

window.UserSelectBox = UserSelectBox = (function() {
  function UserSelectBox(unitSelections) {
    var _this = this;

    this.unitSelections = unitSelections;
    $('#managers').select2({
      placeholder: 'Search by name or net id',
      minimumInputLength: 7,
      multiple: true,
      width: '500px',
      initSelection: function(element, callback) {
        return callback(_this.unitSelections);
      },
      ajax: {
        url: '<%= Rails.application.routes.url_helpers.admin_ldap_search_url(only_path: true) %>',
        dataType: 'json',
        data: function(term, page) {
          return {
            q: term
          };
        },
        results: function(data, page) {
          return {
            results: data.users
          };
        }
      }
    });
  }

  return UserSelectBox;

})();
